webpackJsonp([1],{292:function(t,s,e){"use strict";function n(t){e(307)}Object.defineProperty(s,"__esModule",{value:!0});var i=e(298),a=e(313),o=e(2),r=n,c=o(i.a,a.a,r,"data-v-259cdc20",null);s.default=c.exports},298:function(t,s,e){"use strict";var n=e(43),i=e.n(n);s.a={name:"settings",data:function(){return{locale:this.$store.state.locale,email:"",password:"",errorCode:"noerror",version:i.a.version}},methods:{signIn:function(){var t=this;window.firebase.auth().signInWithEmailAndPassword(this.email,this.password).then(function(s){t.$store.dispatch("logIn",s)}).catch(function(s){t.$set(t,"errorCode",s.code.replace("auth/","")),t.$refs.snackbar.open()})},logOut:function(){var t=this;window.firebase.auth().signOut().then(function(){t.$store.dispatch("logOut")})},signUp:function(){var t=this;window.firebase.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(){t.signIn()}).catch(function(s){t.$set(t,"errorCode",s.message),t.$refs.snackbar.open()})},saveSettings:function(){this.$store.dispatch("saveSettings",{locale:this.locale}),setTimeout(function(){window.location.reload()},1e3)}}}},300:function(t,s,e){s=t.exports=e(285)(!0),s.push([t.i,".version[data-v-259cdc20]{position:fixed;bottom:20px;left:0;right:0;text-align:center;opacity:.3}","",{version:3,sources:["/Users/dkunin/Projects/habitology/src/components/Settings.vue"],names:[],mappings:"AACA,0BACI,eAAgB,AAChB,YAAa,AACb,OAAQ,AACR,QAAS,AACT,kBAAmB,AACnB,UAAY,CACf",file:"Settings.vue",sourcesContent:["\n.version[data-v-259cdc20] {\n    position: fixed;\n    bottom: 20px;\n    left: 0;\n    right: 0;\n    text-align: center;\n    opacity: .3;\n}\n"],sourceRoot:""}])},307:function(t,s,e){var n=e(300);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e(286)("538a7cff",n,!0)},313:function(t,s,e){"use strict";var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page"},[e("md-list",{staticClass:"md-double-line"},[t.$store.state.user&&t.$store.state.user.email?e("md-list-item",[e("div",[t._v(t._s(t.$store.state.user.email))]),t._v(" "),e("md-button",{staticClass:"md-raised md-primary",on:{click:function(s){t.logOut()}}},[t._v("\n                "+t._s(t.$t("settings.logout"))+"\n            ")])],1):t._e(),t._v(" "),t.$store.state.user.email?t._e():e("md-list-item",[e("md-input-container",[e("label",[t._v(t._s(t.$t("settings.email")))]),t._v(" "),e("md-input",{attrs:{type:"email"},model:{value:t.email,callback:function(s){t.email=s},expression:"email"}})],1)],1),t._v(" "),t.$store.state.user.email?t._e():e("md-list-item",[e("md-input-container",[e("label",[t._v(t._s(t.$t("settings.password")))]),t._v(" "),e("md-input",{attrs:{type:"password"},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1)],1),t._v(" "),t.$store.state.user.email?t._e():e("md-list-item",[e("md-button",{staticClass:"md-raised",on:{click:function(s){t.signUp()}}},[t._v("\n                "+t._s(t.$t("settings.signup"))+"\n            ")]),t._v(" "),e("md-button",{staticClass:"md-raised md-primary",on:{click:function(s){t.signIn()}}},[t._v("\n                "+t._s(t.$t("settings.login"))+"\n            ")])],1),t._v(" "),e("div",{staticClass:"separator"}),t._v(" "),e("md-list-item",[e("md-input-container",[e("label",{attrs:{for:"locale"}},[t._v(t._s(t.$t("settings.locale")))]),t._v(" "),e("md-select",{attrs:{name:"locale"},model:{value:t.locale,callback:function(s){t.locale=s},expression:"locale"}},[e("md-option",{attrs:{value:"ru"}},[t._v("Русский")]),t._v(" "),e("md-option",{attrs:{value:"en"}},[t._v("English")])],1)],1)],1),t._v(" "),e("md-list-item",[e("md-button",{staticClass:"md-raised md-primary",attrs:{type:"button"},on:{click:t.saveSettings}},[t._v("\n                "+t._s(t.$t("settings.save"))+"\n            ")])],1)],1),t._v(" "),e("md-snackbar",{ref:"snackbar",attrs:{"md-position":"bottom center","md-duration":4e3}},[e("span",[t._v(t._s(t.$t("serverErrorMessages."+t.errorCode)))]),t._v(" "),e("md-button",{staticClass:"md-accent",attrs:{"md-theme":"default"},on:{click:function(s){t.$refs.snackbar.close()}}},[t._v("Close")])],1),t._v(" "),e("div",{staticClass:"version"},[t._v(t._s(t.version))])],1)},i=[],a={render:n,staticRenderFns:i};s.a=a}});
//# sourceMappingURL=1.f67136fd776a6d3bf25c.js.map