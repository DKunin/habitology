webpackJsonp([1],[,,,function(t,e,n){"use strict";var a=n(10),i=n(118),o=n(109),s=n.n(o),r=n(106),c=n.n(r),d=n(107),u=n.n(d),m=n(105),l=n.n(m),v=n(110),f=n.n(v),h=n(108),b=n.n(h);a.default.use(i.a),e.a=new i.a({routes:[{path:"/",name:"main",component:s.a},{path:"/habit-increment/:habitId",name:"habit-increment",component:c.a},{path:"/habit-log",name:"habit-log",component:u.a},{path:"/habit-add",name:"habit-add",component:l.a},{path:"/settings",name:"settings",component:f.a},{path:"/increment-edit",name:"increment-edit",component:b.a}]})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var a=n(57),i=n.n(a),o=n(29),s=n.n(o),r=n(56),c=n.n(r),d=n(55),u=n.n(d),m=n(10),l=n(18);m.default.use(l.a);var v=function(){return parseInt(1e10*Math.random())},f={habits:{0:{id:0,name:"Drink clean water daily",goal:100},1:{id:1,name:"Do sit ups daily",goal:100}},log:[]},h=function(t){var e=JSON.parse(localStorage.getItem("habitologyState"));e&&t.commit("restoreState",e),t.subscribe(function(){localStorage.setItem("habitologyState",u()(t.state,null,4))})},b={incrementLog:function(t,e){t.log=t.log.concat(e)},updateHabit:function(t,e){t.habits[e.id]=e},removeHabit:function(t,e){var n=c()(t.habits).reduce(function(n,a){var i=t.habits[a];return i.id===parseInt(e)?n:(n[i.id]=i,n)},{});t.habits=n},updateLogItem:function(t,e){t.log=t.log.map(function(t){return t.id===e.id?e:t})},removeLogItem:function(t,e){t.log=t.log.filter(function(t){return t.id!==e})},restoreState:function(t,e){t.habits=e.habits,t.log=e.log}},p={incrementLog:function(t,e){var n=t.commit;t.state;n("incrementLog",s()({id:v()},e))},updateHabit:function(t,e){var n=t.commit;t.state;n("updateHabit",s()({id:v()},e))},removeHabit:function(t,e){var n=t.commit;t.state;n("removeHabit",e)},updateLogItem:function(t,e){(0,t.commit)("updateLogItem",e)},removeLogItem:function(t,e){(0,t.commit)("removeLogItem",e)},incrementAsync:function(t){var e=t.commit;return new i.a(function(t){setTimeout(function(){e("increment"),t()},1e3)})}},_={evenOrOdd:function(t){return t.count%2==0?"even":"odd"}};e.a=new l.a.Store({state:f,getters:_,actions:p,mutations:b,plugins:[h]})},function(t,e,n){function a(t){n(98)}var i=n(4)(n(48),n(111),a,null,null);t.exports=i.exports},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(10),i=n(18),o=n(46),s=n.n(o),r=n(45),c=n.n(r),d=n(3),u=n(44);a.default.use(i.a),a.default.use(s.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:d.a,store:u.a,template:"<App/>",components:{App:c.a}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3);e.default={name:"app",methods:{gotoMain:function(t){a.a.push({name:t})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3);e.default={name:"habit-add",data:function(){return{name:"Default name",goal:100,id:null}},mounted:function(){var t=this.$store.state.habits[this.$route.query.habitId];t&&(this.$set(this,"goal",t.goal),this.$set(this,"id",t.id),this.$set(this,"name",t.name))},methods:{cancel:function(){a.a.push({name:"main"})},update:function(){var t={goal:this.goal,name:this.name};this.id&&(t.id=this.id),this.$store.dispatch("updateHabit",t),a.a.push({name:"main"})},remove:function(){this.$store.dispatch("removeHabit",this.id),a.a.push({name:"main"})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(29),i=n.n(a),o=n(3),s=n(18),r=n(28),c=n.n(r),d=n.i(s.b)(["incrementLog"]);e.default={name:"habitIncrement",data:function(){return{date:c.a.format(new Date,"YYYY-MM-DD"),amount:null,habitId:this.$route.params.habitId}},methods:i()(d,{update:function(){console.log(this.date);var t={date:new Date(this.date),amount:parseInt(this.amount||0),habitId:parseInt(this.habitId)};this.incrementLog(t),window.navigator&&window.navigator.vibrate(100,50),o.a.push({name:"main"})},formatDate:function(t){return c.a.format(t,"DD.MM.YY")},cancel:function(){o.a.push({name:"main"})},showHabitName:function(t){return this.$store.state.habits[t].name}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(28),i=n.n(a),o=n(3);e.default={name:"habit-log",data:function(){return{}},computed:{filtered:function(){var t=this.$route.query.habitId;return void 0===t||null===t?this.$store.state.log:this.$store.state.log.filter(function(e){var n=e.habitId;return t===n})}},methods:{formatDate:function(t){return i.a.format(new Date(t),"DD.MM.YY HH:mm")},getHabitName:function(t){return this.$store.state.habits[t].name},editHabitIncrement:function(t){o.a.push({name:"increment-edit",query:{logId:t}})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),i=n(28),o=n.n(i);e.default={name:"increment-edit",data:function(){return{amount:0,date:100,habitId:null,id:null}},mounted:function(){var t=this,e=this.$store.state.log.find(function(e){return e.id===parseInt(t.$route.query.logId)});e&&(this.$set(this,"amount",e.amount),this.$set(this,"id",e.id),this.$set(this,"date",o.a.format(new Date(e.date),"YYYY-MM-DD")),this.$set(this,"habitId",e.habitId))},methods:{cancel:function(){a.a.back()},update:function(){var t={amount:this.amount,id:this.id,date:this.date,habitId:this.habitId};this.$store.dispatch("updateLogItem",t),a.a.back()},remove:function(){this.$store.dispatch("removeLogItem",this.id),a.a.back()},showHabitName:function(t){return t?this.$store.state.habits[t].name:"-"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3);e.default={name:"main",data:function(){return{}},methods:{newHabit:function(){a.a.push({name:"habit-add"})},countHabit:function(t){return this.$store.state.log.reduce(function(e,n){return n.habitId===t?e+n.amount:e},0)},countPercent:function(t,e){return Math.ceil(100*t/e)},habitIncrement:function(t){a.a.push({name:"habit-increment",params:{habitId:t}})},editHabit:function(t){a.a.push({name:"habit-add",query:{habitId:t}})},getHabitLog:function(t){a.a.push({name:"habit-log",query:{habitId:t}})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"settings",data:function(){return{}},computed:{filtered:function(){return this.$store.state.log}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){function a(t){n(99)}var i=n(4)(n(49),n(112),a,null,null);t.exports=i.exports},function(t,e,n){function a(t){n(102)}var i=n(4)(n(50),n(115),a,"data-v-3bf7b098",null);t.exports=i.exports},function(t,e,n){function a(t){n(103)}var i=n(4)(n(51),n(116),a,null,null);t.exports=i.exports},function(t,e,n){function a(t){n(101)}var i=n(4)(n(52),n(114),a,null,null);t.exports=i.exports},function(t,e,n){function a(t){n(104)}var i=n(4)(n(53),n(117),a,"data-v-fc58b594",null);t.exports=i.exports},function(t,e,n){function a(t){n(100)}var i=n(4)(n(54),n(113),a,null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),t._v(" "),n("md-bottom-bar",[n("md-bottom-bar-item",{attrs:{"md-icon":"home","md-active":"main"===t.$route.name},on:{click:function(e){t.gotoMain("main")}}}),t._v(" "),n("md-bottom-bar-item",{attrs:{"md-icon":"history","md-active":"habit-log"===t.$route.name},on:{click:function(e){t.gotoMain("habit-log")}}}),t._v(" "),n("md-bottom-bar-item",{attrs:{"md-icon":"settings","md-active":"settings"===t.$route.name},on:{click:function(e){t.gotoMain("settings")}}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"md-title"},[t._v("New Habit")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"hidden"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),t._v(" "),n("md-input-container",[n("label",[t._v("Name")]),t._v(" "),n("md-input",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),n("md-input-container",[n("label",[t._v("Goal")]),t._v(" "),n("md-input",{attrs:{type:"number"},model:{value:t.goal,callback:function(e){t.goal=e},expression:"goal"}})],1),t._v(" "),n("div",{staticClass:"controls"},[n("md-button",{staticClass:"md-raised md-primary",on:{click:t.update}},[t._v("Save")]),t._v(" "),n("md-button",{staticClass:"md-raised md-accent",on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),n("md-button",{staticClass:"md-raised md-accent",on:{click:t.remove}},[t._v("Remove")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"md-title"},[t._v("Settings")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"md-title"},[t._v("Edit log item")]),t._v(" "),n("span",{staticClass:"md-subheading"},[t._v(t._s(t.showHabitName(t.habitId)))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"hidden"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.habitId,expression:"habitId"}],attrs:{type:"hidden"},domProps:{value:t.habitId},on:{input:function(e){e.target.composing||(t.habitId=e.target.value)}}}),t._v(" "),n("md-input-container",[n("md-icon",[t._v("event")]),t._v(" "),n("label",[t._v("Date")]),t._v(" "),n("md-input",{attrs:{type:"date"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),n("md-input-container",[n("md-icon",[t._v("star")]),t._v(" "),n("label",[t._v("Rating")]),t._v(" "),n("md-input",{attrs:{type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),t._v(" "),n("div",{staticClass:"controls"},[n("md-button",{staticClass:"md-raised md-primary",on:{click:t.update}},[t._v("Save")]),t._v(" "),n("md-button",{staticClass:"md-raised md-accent",on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),n("md-button",{staticClass:"md-raised md-accent",on:{click:t.remove}},[t._v("Remove")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"md-title"},[t._v("Add Habitscore")]),t._v(" "),n("span",{staticClass:"md-subheading"},[t._v(t._s(t.showHabitName(t.habitId)))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.habitId,expression:"habitId"}],attrs:{type:"hidden"},domProps:{value:t.habitId},on:{input:function(e){e.target.composing||(t.habitId=e.target.value)}}}),t._v(" "),n("md-input-container",[n("md-icon",[t._v("event")]),t._v(" "),n("label",[t._v("Date")]),t._v(" "),n("md-input",{attrs:{type:"date"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),n("md-input-container",[n("md-icon",[t._v("star")]),t._v(" "),n("label",[t._v("Rating")]),t._v(" "),n("md-input",{attrs:{type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),t._v(" "),n("div",{staticClass:"controls"},[n("md-button",{staticClass:"md-raised md-primary",on:{click:t.update}},[t._v("Save")]),t._v(" "),n("md-button",{staticClass:"md-raised md-accent",on:{click:t.cancel}},[t._v("Cancel")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"md-title"},[t._v("Habit Log")]),t._v(" "),t.filtered.length?t._e():n("div",[t._v("\n    No data\n  ")]),t._v(" "),t.filtered.length?n("md-table",[n("md-table-header",[n("md-table-row",[n("md-table-head",[t._v("Habit")]),t._v(" "),n("md-table-head",[t._v("Date")]),t._v(" "),n("md-table-head",{attrs:{"md-numeric":""}},[t._v("Score")])],1)],1),t._v(" "),n("md-table-body",t._l(t.filtered,function(e,a){return n("md-table-row",{key:a},[n("md-table-cell",[t._v(t._s(t.getHabitName(e.habitId)))]),t._v(" "),n("md-table-cell",[t._v(t._s(t.formatDate(e.date)))]),t._v(" "),n("md-table-cell",[n("a",{on:{click:function(n){t.editHabitIncrement(e.id)}}},[t._v(t._s(e.amount))])])],1)}))],1):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"md-title"},[t._v("Habits")]),t._v(" "),t.$store.state.habits.length?t._e():n("div",[t._v("No habits")]),t._v(" "),t.$store.state.habits.length?n("md-list",t._l(t.$store.state.habits,function(e){return n("md-list-item",{key:e.id,on:{click:function(n){t.getHabitLog(e.id)}}},[n("div",[t._v(t._s(e.name)+" "+t._s(t.countHabit(e.id))+" ("+t._s(t.countPercent(t.countHabit(e.id),e.goal))+"%) ")]),t._v(" "),n("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(n){t.editHabit(e.id)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("create")])],1),t._v(" "),n("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(n){t.habitIncrement(e.id)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("note_add")])],1)],1)})):t._e(),t._v(" "),n("md-button",{staticClass:"md-fab md-primary add-button",on:{click:t.newHabit}},[n("md-icon",[t._v("add")])],1)],1)},staticRenderFns:[]}}],[47]);
//# sourceMappingURL=app.fb3745a52294cad837c6.js.map