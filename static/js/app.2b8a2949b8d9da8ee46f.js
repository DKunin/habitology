webpackJsonp([7],{100:function(t,e,n){"use strict";var a=n(44),i=n.n(a),o=n(30),r=n(16),s=n.i(o.b)(["toggleDraging"]),c=setTimeout(function(){});e.a={name:"habit-card",data:function(){return{}},props:{habit:{type:Object,default:{}},lastTime:{type:Function,default:function(){}}},mounted:function(){},methods:i()(s,{habitIncrement:function(t){r.a.push({name:"habit-increment",params:{habitId:t}})},editHabit:function(t){r.a.push({name:"habit-add",query:{habitId:t}})},getHabitLog:function(t){r.a.push({name:"habit-log",query:{habitId:t}})},shareResult:function(t){window.navigator.share&&window.navigator.share({title:"My habit goals",text:"I reached "+this.percent+"% of my "+t.name+" goal!",url:"https://dkunin.github.io/habitology/"}).then(function(){return console.log("Successful share")}).catch(function(t){return console.log("Error sharing",t)})},mouseDown:function(){var t=this;clearTimeout(c),c=setTimeout(function(){t.toggleDraging(!0)},500)},mouseUp:function(){clearTimeout(c)}}),computed:{count:function(){var t=this.habit;return this.$store.state.log.reduce(function(e,n){return n.habitId!==t.id||n.destroy?e:e+parseInt(n.amount)},parseInt(t.initialValue)||0)},percent:function(){return Math.ceil(100*this.count/this.habit.goal)}}}},101:function(t,e,n){"use strict";e.a={name:"logo",props:{color:{type:String,default:"#fff"},size:{type:Number,default:40}}}},102:function(t,e,n){"use strict";var a=n(46),i=n.n(a),o=n(198),r=n.n(o),s=n(8),c=n.n(s),l=n(189),u=n(93),d=n(16);e.a={name:"main",data:function(){return{}},components:{HabitCard:l.a,EmptyCard:u.a,draggable:r.a},computed:{sortedHabits:{get:function(){var t=this.$store.state.sorting,e=this.$store.state.habits;return Array.isArray(t)&&t.length===i()(e).length?t.map(function(t){return e[t]}):i()(e).map(function(t){return e[t]})},set:function(t){var e=t.map(function(t){return t.id});this.$store.dispatch("updateSorting",e)}}},methods:{newHabit:function(){d.a.push({name:"habit-add"})},lastTime:function(t){var e=this.$store.state.log.filter(function(e){var n=e.habitId;return t.id===n}).sort(function(t,e){return new Date(e.date)-new Date(t.date)})[0];return e?c()(new Date(e.date)).calendar():null}}}},133:function(t,e){},134:function(t,e){},135:function(t,e){},136:function(t,e){},137:function(t,e){},16:function(t,e,n){"use strict";var a=n(21),i=n(196),o=n(190),r=function(){return n.e(3).then(n.bind(null,204))},s=function(){return n.e(2).then(n.bind(null,205))},c=function(){return n.e(4).then(n.bind(null,203))},l=function(){return n.e(1).then(n.bind(null,206))},u=function(){return n.e(0).then(n.bind(null,207))},d=function(){return n.e(5).then(n.bind(null,202))};a.default.use(i.a),e.a=new i.a({routes:[{path:"/",name:"main",component:o.a},{path:"/habit-increment/:habitId",name:"habit-increment",component:r},{path:"/habit-log",name:"habit-log",component:s},{path:"/habit-add",name:"habit-add",component:c},{path:"/settings",name:"settings",component:u},{path:"/increment-edit",name:"increment-edit",component:l},{path:"/about",name:"about",component:d}]})},184:function(t,e,n){function a(t){return n(i(t))}function i(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./en-au":81,"./en-au.js":81,"./en-ca":82,"./en-ca.js":82,"./en-gb":83,"./en-gb.js":83,"./en-ie":84,"./en-ie.js":84,"./en-nz":85,"./en-nz.js":85,"./ru":86,"./ru.js":86};a.keys=function(){return Object.keys(o)},a.resolve=i,t.exports=a,a.id=184},189:function(t,e,n){"use strict";function a(t){n(136)}var i=n(100),o=n(194),r=n(15),s=a,c=r(i.a,o.a,s,null,null);e.a=c.exports},190:function(t,e,n){"use strict";function a(t){n(137)}var i=n(102),o=n(195),r=n(15),s=a,c=r(i.a,o.a,s,null,null);e.a=c.exports},191:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("md-sidenav",{ref:"leftSidenav",staticClass:"md-left",attrs:{"md-swipeable":""}},[n("md-toolbar",{staticClass:"md-small"},[n("div",{staticClass:"md-toolbar-container"},[n("h3",{staticClass:"md-title"},[n("Logo")],1)])]),t._v(" "),n("md-list",[n("md-list-item",{staticClass:"md-primary",on:{click:function(e){t.gotoMain("habit-add")}}},[n("md-icon",[t._v("add")]),t._v(" "),n("span",[t._v(t._s(t.$t("actions.addHabit")))])],1),t._v(" "),n("md-list-item",{staticClass:"md-primary",on:{click:function(e){t.gotoMain("habit-log")}}},[n("md-icon",[t._v("history")]),t._v(" "),n("span",[t._v(t._s(t.$t("titles.habit-log")))])],1),t._v(" "),n("div",{staticClass:"separator"}),t._v(" "),n("md-list-item",{staticClass:"md-primary",on:{click:function(e){t.gotoMain("settings")}}},[n("md-icon",[t._v("settings")]),t._v(" "),n("span",[t._v(t._s(t.$t("titles.settings")))])],1),t._v(" "),n("md-list-item",{staticClass:"md-primary",on:{click:function(e){t.gotoMain("about")}}},[n("md-icon",[t._v("help_outline")]),t._v(" "),n("span",[t._v(t._s(t.$t("titles.about")))])],1)],1),t._v(" "),n("div",{staticClass:"version"},[n("div",[t._v(t._s(t.version))]),t._v(" "),t.$store.state.newVersion?n("div",{on:{click:t.reloadScreen}},[t._v(t._s(t.$t("text.newVersion",{version:t.$store.state.newVersion})))]):t._e()])],1),t._v(" "),n("md-toolbar",["main"===t.$route.name?n("md-button",{staticClass:"md-icon-button",on:{click:t.toggleLeftSidenav}},[n("md-icon",[t._v("menu")])],1):t._e(),t._v(" "),"main"!==t.$route.name?n("md-button",{staticClass:"md-icon-button",on:{click:t.goBack}},[n("md-icon",[t._v("arrow_back")])],1):t._e(),t._v(" "),n("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(t._s(t.$t("titles."+t.$route.name)))]),t._v(" "),t.$store.state.user.uid?n("md-button",{staticClass:"md-icon-button",on:{click:t.syncWithCloud}},[n("md-icon",[t._v(t._s(t.$store.state.syncingState))])],1):t._e(),t._v(" "),t._e()],1),t._v(" "),n("md-dialog-alert",{ref:"alert-dialog",attrs:{"md-content":t.alert.content,"md-ok-text":t.alert.ok}}),t._v(" "),n("router-view")],1)},i=[],o={render:a,staticRenderFns:i};e.a=o},192:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visibility?n("md-card",{staticClass:"empty-card"},[n("md-card-content",[n("div",{on:{click:t.onClick}},[n("md-icon",{staticClass:"md-size-2x"},[t._v("add_circle_outline")])],1)])],1):t._e()},i=[],o={render:a,staticRenderFns:i};e.a=o},193:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 325 301",xmlns:"http://www.w3.org/2000/svg"}},[n("title",[t._v("Group 2")]),n("g",{attrs:{fill:t.color,"fill-rule":"evenodd"}},[n("path",{attrs:{d:"M151.319 119.035c7.053.713 11.25.45 12.59-.79 2.01-1.86 3.163-13.378 3.163-21.16V34.939c0-12.9-9.438-20.627-9.438-26.472 0-5.846 4.38-8.466 9.747-8.466h78.223c5.367 0 9.686 2.486 9.686 8.331 0 5.846-9.254 13.169-9.254 26.27v62.485c0 17.334 3.825 33.527 11.721 47.166l1.666 2.754 29.488 48.644 30.413 49.047c3.579 6.047 5.614 13.505 5.676 21.231 0 18.813-9.994 35.072-38.988 35.072H127.097c-28.933 0-38.988-16.26-38.988-35.072 0-7.726 2.035-15.251 5.614-21.298l30.351-48.98 16.247-28.605H54.607v97.807c0 12.036-2.574 21.03-7.722 26.982-5.148 5.951-11.767 8.927-19.857 8.927-8.213 0-14.77-3.009-19.674-9.027C2.451 285.716 0 276.756 0 264.852V35.71C0 23.807 2.42 14.88 7.263 8.928 12.104 2.976 18.693 0 27.028 0 35.24 0 41.89 2.943 46.977 8.828c5.086 5.886 7.63 14.847 7.63 26.882v83.325h96.712zm21.248 13.07l-131.906-1.378c0-11.288.582-57.803.582-63.447V34.654c0-7.009-1.481-12.227-4.444-15.655-2.962-3.428-5.399-5.141-10.181-5.141-4.854 0-6.31 1.79-9.13 5.257-2.819 3.466-4.229 8.665-4.229 15.597v229.34c0 6.932 1.428 12.15 4.283 15.655 2.856 3.504 4.293 5.199 9.076 5.199 4.711 0 7.13-1.733 10.128-5.2 2.998-3.465 4.497-8.703 4.497-15.712L40.89 154.4l121.401 1.378h4.1l-40.829 69.458-17.676 28.524c-2.084 3.522-3.27 7.904-3.27 12.404 0 10.956 5.857 20.425 22.707 20.425h158.982c16.885 0 22.706-9.47 22.706-20.425-.036-4.5-1.222-8.843-3.306-12.365l-17.712-28.563-49.845-80.902-.97-1.604c-4.6-7.943-6.827-17.373-6.827-27.468 0 0 .252-77.508.252-85.138 0-7.63 5.64-8.011 5.64-11.415 0-3.405-2.514-4.852-5.64-4.852l-47.597-.36c-3.125 0-5.676 1.526-5.676 4.93 0 3.405 5.245 4.021 5.245 11.534 0 7.512-.251 84.942-.251 84.942 0 2.73-.422 6.275-1.42 10.458-.665 2.79-3.444 5.037-8.337 6.742z"}}),n("path",{attrs:{d:"M118.552 260.689l8.405-14.3 7.694-13.145 26.186-44.633.711-1.228c.194-.289.453-.577.647-.866l.065-.145L170.794 172h70.735l7.565 12.928.064.072c.13.217.324.433.453.65l27.738 47.45 9.763 16.756.646 1.083.324.578 5.43 9.244c.97 1.517 1.488 3.467 1.488 5.489 0 5.417-3.944 9.75-8.729 9.75H125.73c-4.85 0-8.729-4.406-8.729-9.75 0-1.806.388-3.539 1.228-4.983.13-.217.194-.361.324-.578zm130.994-74.967c.065.145.259.434.453.795l-.065-.145c-.194-.289-.323-.578-.388-.65zm-73.32 25.061c.97-1.083 1.487-2.6 1.487-4.116a6.58 6.58 0 0 0-1.487-4.117c-.97-1.083-2.328-1.661-3.621-1.661-1.358 0-2.716.578-3.621 1.661-.97 1.083-1.487 2.6-1.487 4.117a6.58 6.58 0 0 0 1.487 4.116c.97 1.084 2.263 1.661 3.62 1.661 1.294 0 2.652-.65 3.622-1.66zm-23.277 40.95l15.194-25.927c1.552-2.673.906-6.284-1.487-8.017-.905-.65-1.875-.939-2.845-.939-1.68 0-3.297.939-4.202 2.6l-15.195 25.928c-1.551 2.672-.905 6.283 1.488 8.016.905.65 1.875.94 2.78.94 1.616 0 3.297-.94 4.267-2.6z","fill-rule":"nonzero"}})])])},i=[],o={render:a,staticRenderFns:i};e.a=o},194:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",{attrs:{"md-theme":t.habit.theme?t.habit.theme:"default","data-key":t.habit.id}},[n("md-icon",{staticClass:"md-accent reorder-icon"},[t._v("reorder")]),t._v(" "),n("md-card-header",[n("div",{staticClass:"md-title",on:{click:function(e){t.getHabitLog(t.habit.id)}}},[t._v("\n        "+t._s(t.habit.name)+"\n    ")]),t._v(" "),n("div",{staticClass:"md-subhead"},[t._v("\n        "+t._s(t.count)+" ("+t._s(t.percent)+"%) \n        "),n("div",{staticClass:"last-update"},[t._v(t._s(t.$props.lastTime(t.habit)))])])]),t._v(" "),n("md-card-actions",[n("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(e){t.habitIncrement(t.habit.id)}}},[n("md-icon",{staticClass:"md-accent"},[t._v("add")])],1),t._v(" "),n("md-menu",{attrs:{"md-size":"5","md-direction":"bottom left","md-close-on-select":!0,"md-align-trigger":!0}},[n("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[n("md-icon",[t._v("more_horiz")])],1),t._v(" "),n("md-menu-content",[n("md-menu-item",{on:{click:function(e){t.editHabit(t.habit.id)}}},[n("md-icon",{staticClass:"md-accent"},[t._v("create")]),t._v(" "),n("span",[t._v(t._s(t.$t("actions.edit")))])],1),t._v(" "),n("md-menu-item",{on:{click:function(e){t.getHabitLog(t.habit.id)}}},[n("md-icon",{staticClass:"md-accent"},[t._v("update")]),t._v(" "),n("span",[t._v(t._s(t.$t("titles.log")))])],1),t._v(" "),n("md-menu-item",{on:{click:function(e){t.shareResult(t.habit)}}},[n("md-icon",{staticClass:"md-accent"},[t._v("share")]),t._v(" "),n("span",[t._v(t._s(t.$t("titles.share")))])],1)],1)],1)],1),t._v(" "),n("md-progress",{attrs:{"md-progress":t.percent}})],1)},i=[],o={render:a,staticRenderFns:i};e.a=o},195:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[Object.keys(t.$store.state.habits).length?t._e():n("div",{staticClass:"no-data-screen"},[n("div",{on:{click:t.newHabit}},[n("md-icon",{staticClass:"md-size-4x"},[t._v("add_circle_outline")])],1),t._v(" "),n("div",[t._v(t._s(t.$t("text.nohabits")))])]),t._v(" "),n("draggable",{attrs:{options:{handle:".reorder-icon"}},model:{value:t.sortedHabits,callback:function(e){t.sortedHabits=e},expression:"sortedHabits"}},t._l(t.sortedHabits,function(e){return t.sortedHabits&&!e.destroy?n("HabitCard",{key:e.id,attrs:{habit:e,lastTime:t.lastTime}}):t._e()})),t._v(" "),n("EmptyCard",{attrs:{visibility:Boolean(Object.keys(t.$store.state.habits).length),onClick:t.newHabit}}),t._v(" "),t._e()],1)},i=[],o={render:a,staticRenderFns:i};e.a=o},43:function(t,e){t.exports={name:"habitology",version:"1.7.2",description:"Simple app to work on habits",author:"Dmitri Kunin <whitemarten@gmail.com>",github:"https://github.com/DKunin/habitology",scripts:{dev:"node build/dev-server.js",start:"node build/dev-server.js",build:"node build/build.js",pretty:"find ./src | grep .vue | while read i; do ./bin/pretty $i; done",csscomb:"find ./src | grep .vue | while read i; do ./bin/comb $i; done",publish:"npm run csscomb && npm run pretty && npm run lint && npm run build && ./bin/publish",test:"npm run csscomb && npm run pretty && npm run lint",lint:"eslint --ext .js,.vue src",report:"npm run build --report"},dependencies:{"compare-semver":"1.1.0",deepmerge:"1.5.1",firebase:"4.3.1",moment:"2.18.1",vue:"2.4.4","vue-i18n":"7.2.0","vue-material":"0.7.4","vue-router":"^2.3.1",vuedraggable:"2.14.1",vuex:"2.3.1"},devDependencies:{autoprefixer:"^7.1.2","babel-core":"^6.22.1","babel-eslint":"^7.1.1","babel-loader":"^7.1.1","babel-plugin-transform-runtime":"^6.22.0","babel-preset-env":"^1.3.2","babel-preset-stage-1":"6.24.1","babel-preset-stage-2":"^6.22.0","babel-register":"^6.22.0",chalk:"^2.0.1","connect-history-api-fallback":"^1.3.0","copy-webpack-plugin":"^4.0.1","css-loader":"^0.28.0",csscomb:"4.2.0",cssnano:"^3.10.0",eslint:"^3.19.0","eslint-config-standard":"^6.2.1","eslint-friendly-formatter":"^3.0.0","eslint-loader":"^1.7.1","eslint-plugin-html":"^3.1.0","eslint-plugin-promise":"^3.4.0","eslint-plugin-standard":"^2.0.1","eventsource-polyfill":"^0.9.6",express:"4.15.4","extract-text-webpack-plugin":"^2.0.0","file-loader":"^0.11.1","friendly-errors-webpack-plugin":"^1.1.3","gh-pages":"1.0.0","html-script-hook":"1.0.0","html-webpack-plugin":"^2.28.0","http-proxy-middleware":"^0.17.3",indent:"0.0.2",opn:"^5.1.0","optimize-css-assets-webpack-plugin":"^2.0.0",ora:"^1.2.0",prettier:"1.7.0",puppeteer:"0.10.2",rimraf:"^2.6.0","script-loader":"0.7.2",semver:"^5.3.0",shelljs:"^0.7.6","sw-precache-webpack-plugin":"^0.11.4","uglify-es":"3.1.2","url-loader":"^0.5.8","vue-loader":"13.0.4","vue-style-loader":"^3.0.1","vue-template-compiler":"2.4.4",webpack:"^2.6.1","webpack-bundle-analyzer":"^2.2.1","webpack-dev-middleware":"^1.10.0","webpack-hot-middleware":"^2.18.0","webpack-merge":"^4.1.0"},engines:{node:">= 6.0.0",npm:">= 3.0.0"},browserslist:["Chrome >= 61"]}},87:function(t,e,n){"use strict";e.a={en:{titles:{main:"Habits",menu:"Menu","habit-add":"New Habit",settings:"Settings","habit-increment":"Add habit score","increment-edit":"Edit score","habit-log":"Habit Log",log:"Log",name:"Name",date:"Date",rating:"Rating",goal:"Goal","continuing-goal":"Have you already started this habit?","initial-value":"Initial value",nodata:"no data",share:"Share",defaultHabitName:"Habit",about:"About"},actions:{save:"Save",cancel:"Cancel",remove:"Remove",addHabit:"Habit",edit:"Edit"},log:{habit:"Habit",date:"Date",score:"Score"},settings:{locale:"Locale",login:"Log in",logout:"Log out",signup:"Sign Up",save:"Save",email:"email",password:"password"},text:{nolog:"Add rating to a habit and it'll appear right here.",nohabits:"Add new habit and it'll appear here.",newVersion:"Version {version} is ready to update, tap here to proceed",incrementSuccess:"{habitName} + {amount}!"},serverErrorMessages:{noerror:"","user-not-found":"User not found","invalid-email":"Email is badly formatted","wrong-password":"User not found, maybe you should register"}},ru:{titles:{main:"Привычки",menu:"Меню","habit-add":"Новая привычка",settings:"Настройки","habit-increment":"Добавить оценку","increment-edit":"Редактировать оценку","habit-log":"История",log:"История",name:"Название",date:"Дата",rating:"Оценка",goal:"Цель","continuing-goal":"Это уже начатая привычка?","initial-value":"Первоначальное значение",nodata:"нет данных",share:"Поделиться",defaultHabitName:"Название привычки",about:"О приложении"},actions:{save:"Сохранить",cancel:"Отмена",remove:"Удалить",addHabit:"Привычка",edit:"Редактировать"},log:{habit:"Привычка",date:"Дата",score:"Счет"},settings:{locale:"Язык",login:"Войти",logout:"Выйти",signup:"Регистрация",save:"Сохранить",email:"email",password:"пароль"},text:{nolog:"Добавьте оценку к привычке и она появится здесь",nohabits:"Добавьте новую привычку и она появится здесь",newVersion:"Версия {version} доступна для обновления, тапните здесь, для обновления",incrementSuccess:"{habitName} + {amount}!"},serverErrorMessages:{noerror:"","user-not-found":"Пользователь не найден","invalid-email":"Email неверный или некорректно сформирован","wrong-password":"Неверный пароль"}}}},88:function(t,e,n){"use strict";function a(){return parseInt(1e10*Math.random(),2)}var i=n(44),o=n.n(i),r=n(45),s=n.n(r),c=n(46),l=n.n(c),u=n(21),d=n(30),m=n(8),g=n.n(m),h=n(97),b=n(18),p=n.n(b),f=n(141),v=(n.n(f),n(142)),_=(n.n(v),n(132)),y=n.n(_),w=n(103),k=n.n(w),C=n(43),S=n.n(C),$=n(95);u.default.use(d.a);var H={apiKey:"AIzaSyD8-mtgEl3_PrD9mZe2iwPARtRDLen7nu4",authDomain:"habitology-ffa70.firebaseapp.com",databaseURL:"https://habitology-ffa70.firebaseio.com",projectId:"habitology-ffa70",storageBucket:"habitology-ffa70.appspot.com",messagingSenderId:"127457719546"},I={syncingState:$.a,habits:{},log:[],user:{},locale:"ru",sorting:[],dragging:!1,newVersion:!1},x={incrementLog:function(t,e){t.log=t.log.concat(e),t.syncingState=$.b},updateHabit:function(t,e){t.habits||(t.habits={}),t.habits[e.id]=e,t.syncingState=$.b},removeHabit:function(t,e){t.habits=l()(t.habits).reduce(function(n,a){var i=t.habits[a];return i.id===parseInt(e)&&(n[i.id]=i,n[i.id].destroy=!0),n[i.id]=i,n},{}),t.log=t.log.reduce(function(t,n){return parseInt(n.habitId)===parseInt(e)&&(n.destroy=!0),t.concat(n)},[]),t.syncingState=$.b},updateLogItem:function(t,e){t.log=t.log.map(function(t){return t.id===e.id?e:t}),t.syncingState=$.b},removeLogItem:function(t,e){t.log=t.log.reduce(function(t,n){return parseInt(n.id)===parseInt(e)&&(n.destroy=!0),t.concat(n)},[])},restoreState:function(t,e){t.habits=e.habits,t.log=e.log,t.user=e.user,t.locale=e.locale,t.sorting=e.sorting||[],g.a.locale(e.locale||"ru"),p.a.initializeApp(H),window.firebase=p.a,setTimeout(function(){window.i18n.locale=e.locale||"ru"},200)},getUser:function(t,e){t.user={email:e.email,uid:e.uid}},setUser:function(t,e){t.user=e},logOut:function(t){t.user={},t.habits={},t.log=[],t.syncingState=$.b},saveSettings:function(t,e){t.locale=e.locale,window.i18n.locale=e.locale,g.a.locale(e.locale||"ru")},updateSorting:function(t,e){t.sorting=e},toggleDraging:function(t,e){t.dragging=e},checkForUpdate:function(t){fetch("https://raw.githubusercontent.com/DKunin/habitology/master/package.json").then(function(t){return t.json()}).then(function(e){k.a.lt(S.a.version,[e.version])&&(t.newVersion=e.version)})},syncWithCloud:function(t){if(p.a&&t.user&&t.user.uid){if(!window.navigator.onLine)return void(t.syncingState=$.c);t.syncingState=$.d;var e="users/"+t.user.uid;p.a.database().ref(e).once("value").then(function(e){var n=t.habits,a=t.log,i={habits:n,log:a},o=e.val()||{},r={};r.habits=y()(o.habits||{},i.habits),r.log=y()(o.log||[],i.log||[]);var c=l()(r.habits).reduce(function(t,e){return r.habits[e].destroy?t:(t[e]=r.habits[e],t)},{}),u=r.log.filter(function(t){return!t.destroy},{});p.a.database().ref("users/"+t.user.uid).update({habits:c,log:u}),t.habits=r.habits,t.log=u,t.syncingState=$.a,localStorage.setItem("habitologyState",s()({log:u,habits:r.habits,user:t.user,locale:t.locale,sorting:t.sorting},null,4))})}}},L={incrementLog:function(t,e){var n=t.commit;t.state;n("incrementLog",o()({id:a()},e))},updateHabit:function(t,e){var n=t.commit;t.state;n("updateHabit",o()({id:a()},e))},removeHabit:function(t,e){var n=t.commit;t.state;n("removeHabit",e)},updateLogItem:function(t,e){(0,t.commit)("updateLogItem",e)},removeLogItem:function(t,e){(0,t.commit)("removeLogItem",e)},getUser:function(t,e){(0,t.commit)("getUser",e)},logOut:function(t){(0,t.commit)("logOut")},logIn:function(t,e){(0,t.commit)("getUser",e)},saveSettings:function(t,e){(0,t.commit)("saveSettings",e)},syncWithCloud:function(t){(0,t.commit)("syncWithCloud")},checkForUpdate:function(t){(0,t.commit)("checkForUpdate")},updateSorting:function(t,e){(0,t.commit)("updateSorting",e)},toggleDraging:function(t,e){(0,t.commit)("toggleDraging",e)}},z=new d.a.Store({state:I,actions:L,mutations:x,plugins:[h.a]});e.a=z},89:function(t,e){},91:function(t,e,n){"use strict";function a(t){n(133)}var i=n(98),o=n(191),r=n(15),s=a,c=r(i.a,o.a,s,null,null);e.a=c.exports},93:function(t,e,n){"use strict";function a(t){n(134)}var i=n(99),o=n(192),r=n(15),s=a,c=r(i.a,o.a,s,"data-v-020117d0",null);e.a=c.exports},94:function(t,e,n){"use strict";function a(t){n(135)}var i=n(101),o=n(193),r=n(15),s=a,c=r(i.a,o.a,s,null,null);e.a=c.exports},95:function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return r});var a="cloud_upload",i="cloud_queue",o="cloud",r="cloud_off"},96:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(21),i=n(90),o=n(30),r=n(92),s=n.n(r),c=n(89),l=(n.n(c),n(91)),u=n(16),d=n(88),m=n(87);a.default.use(o.a),a.default.use(s.a),a.default.use(i.a),a.default.material.registerTheme("default",{primary:{color:"grey",hue:900},accent:{color:"blue-grey",hue:300},warn:{color:"red",hue:600},background:{color:"grey",hue:200}}),a.default.material.registerTheme("reddy",{primary:{color:"red",hue:200,textColor:"white"},background:{color:"red",hue:600,textColor:"white"},accent:{color:"white",hue:600,textColor:"white"}}),a.default.material.registerTheme("orangy",{primary:{color:"red",hue:900},background:{color:"red",hue:200},accent:{color:"red",hue:900}}),a.default.material.registerTheme("bluey",{primary:{color:"blue",hue:200,textColor:"white"},background:{color:"blue",hue:700,textColor:"white"},accent:{color:"white",hue:900,textColor:"white"}}),a.default.material.registerTheme("light-blue",{primary:{color:"light-blue",hue:300},background:{color:"light-blue",hue:500,textColor:"white"},accent:{color:"white",hue:900,textColor:"white"}});var g=new i.a({locale:"ru",messages:m.a});window.i18n=g,a.default.config.productionTip=!1,new a.default({el:"#app",router:u.a,store:d.a,i18n:g,template:"<App/>",components:{App:l.a}})},97:function(t,e,n){"use strict";var a=n(45),i=n.n(a),o=["incrementLog","updateHabit","removeHabit","updateLogItem","updateSorting","removeLogItem","restoreState","saveSettings","logIn","logOut","getUser"],r=function(t){var e=void 0,n=JSON.parse(localStorage.getItem("habitologyState")||'{"habits":{}, "log": [], "user": {}, "apiKey": "", "locale": "en", "newVersion": false, "sorting": []}');n&&t.commit("restoreState",n),t.subscribe(function(n){o.includes(n.type)&&(clearTimeout(e),e=setTimeout(function(){t.commit("syncWithCloud")},3e3),localStorage.setItem("habitologyState",i()(t.state,null,4)))})};e.a=r},98:function(t,e,n){"use strict";var a=n(16),i=n(94),o=n(43),r=n.n(o);e.a={name:"app",components:{Logo:i.a},data:function(){return{version:r.a.version,alert:{content:"Test",ok:"Ok"}}},mounted:function(){var t=this;this.$store.dispatch("checkForUpdate"),this.$store.subscribe(function(e){if("incrementLog"===e.type){var n=e.payload.amount,a=t.$store.state.habits[e.payload.habitId].name;t.$set(t,"alert",{content:t.$t("text.incrementSuccess",{amount:n,habitName:a}),ok:"ok"}),t.openAlert()}})},methods:{reloadScreen:function(){window.location.reload()},gotoMain:function(t){this.$refs.leftSidenav.close(),a.a.push({name:t})},toggleLeftSidenav:function(){this.$refs.leftSidenav.toggle()},newHabit:function(){a.a.push({name:"habit-add"})},goBack:function(){a.a.back()},syncWithCloud:function(){this.$store.dispatch("syncWithCloud")},openAlert:function(){this.$refs["alert-dialog"].open()},closeAlert:function(){this.$refs["alert-dialog"].close()}}}},99:function(t,e,n){"use strict";e.a={name:"empty-card",props:{visibility:{type:Boolean,default:!1},onClick:{type:Function,default:function(){}}}}}},[96]);
//# sourceMappingURL=app.2b8a2949b8d9da8ee46f.js.map