webpackJsonp([1],{122:function(t,e){},123:function(t,e){},124:function(t,e){},125:function(t,e){},126:function(t,e){},127:function(t,e){},128:function(t,e){},177:function(t,e,a){function i(t){a(123)}var n=a(12)(a(86),a(184),i,null,null);t.exports=n.exports},178:function(t,e,a){function i(t){a(126)}var n=a(12)(a(87),a(187),i,null,null);t.exports=n.exports},179:function(t,e,a){function i(t){a(127)}var n=a(12)(a(88),a(188),i,"data-v-6e63f6ad",null);t.exports=n.exports},180:function(t,e,a){function i(t){a(125)}var n=a(12)(a(89),a(186),i,null,null);t.exports=n.exports},181:function(t,e,a){function i(t){a(128)}var n=a(12)(a(90),a(189),i,"data-v-fc58b594",null);t.exports=n.exports},182:function(t,e,a){function i(t){a(124)}var n=a(12)(a(91),a(185),i,null,null);t.exports=n.exports},183:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("md-sidenav",{ref:"leftSidenav",staticClass:"md-left",attrs:{"md-swipeable":""}},[a("md-toolbar",{staticClass:"md-small"},[a("div",{staticClass:"md-toolbar-container"},[a("h3",{staticClass:"md-title"},[t._v(t._s(t.$t("titles.menu")))])])]),t._v(" "),a("md-list",[a("md-list-item",{staticClass:"md-primary",on:{click:function(e){t.gotoMain("habit-add")}}},[a("md-icon",[t._v("add")]),t._v(" "),a("span",[t._v(t._s(t.$t("actions.addHabit")))])],1),t._v(" "),a("md-list-item",{staticClass:"md-primary",on:{click:function(e){t.gotoMain("habit-log")}}},[a("md-icon",[t._v("history")]),t._v(" "),a("span",[t._v(t._s(t.$t("titles.habit-log")))])],1),t._v(" "),a("md-list-item",{staticClass:"md-primary",on:{click:function(e){t.gotoMain("settings")}}},[a("md-icon",[t._v("settings")]),t._v(" "),a("span",[t._v(t._s(t.$t("titles.settings")))])],1)],1)],1),t._v(" "),a("md-toolbar",["main"===t.$route.name?a("md-button",{staticClass:"md-icon-button",on:{click:t.toggleLeftSidenav}},[a("md-icon",[t._v("menu")])],1):t._e(),t._v(" "),"main"!==t.$route.name?a("md-button",{staticClass:"md-icon-button",on:{click:t.goBack}},[a("md-icon",[t._v("arrow_back")])],1):t._e(),t._v(" "),a("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(t._s(t.$t("titles."+t.$route.name)))]),t._v(" "),a("md-menu",{attrs:{"md-size":"4"}},[a("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[a("md-icon",[t._v("more_vert")])],1),t._v(" "),a("md-menu-content",[a("md-menu-item",{on:{click:t.newHabit}},[a("md-icon",[t._v("add")]),t._v(" "),a("span",[t._v(t._s(t.$t("actions.addHabit")))])],1)],1)],1)],1),t._v(" "),a("router-view")],1)},staticRenderFns:[]}},184:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"hidden"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),t._v(" "),a("md-list",{staticClass:"md-double-line"},[a("md-list-item",[a("md-input-container",[a("label",[t._v(t._s(t.$t("titles.name")))]),t._v(" "),a("md-input",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),t._v(" "),a("md-list-item",[a("md-input-container",[a("label",[t._v(t._s(t.$t("titles.goal")))]),t._v(" "),a("md-input",{attrs:{type:"number"},model:{value:t.goal,callback:function(e){t.goal=e},expression:"goal"}})],1)],1),t._v(" "),a("md-list-item",[a("md-button",{staticClass:"md-raised md-primary",on:{click:t.update}},[t._v(t._s(t.$t("actions.save")))]),t._v(" "),t.id?a("md-button",{staticClass:"md-raised md-accent",on:{click:t.remove}},[t._v(t._s(t.$t("actions.remove")))]):t._e()],1)],1)],1)},staticRenderFns:[]}},185:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("md-list",{staticClass:"md-double-line"},[t.$store.state.user&&t.$store.state.user.email?a("md-list-item",[a("div",[t._v(t._s(t.$store.state.user.email))]),t._v(" "),a("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){t.logOut()}}},[t._v("\n                Log out\n            ")])],1):t._e(),t._v(" "),t.$store.state.user.email?t._e():a("md-list-item",[a("md-input-container",[a("label",[t._v("email")]),t._v(" "),a("md-input",{model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),t.$store.state.user.email?t._e():a("md-list-item",[a("md-input-container",{attrs:{"md-has-password":""}},[a("label",[t._v("Password")]),t._v(" "),a("md-input",{attrs:{type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),t.$store.state.user.email?t._e():a("md-list-item",[a("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){t.signIn()}}},[t._v("\n                Sign in\n            ")]),t._v(" "),a("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){t.signUp()}}},[t._v("\n                Sign up\n            ")])],1),t._v(" "),a("md-list-item",[a("md-input-container",[a("label",[t._v("ApiKey")]),t._v(" "),a("md-input",{model:{value:t.apiKey,callback:function(e){t.apiKey=e},expression:"apiKey"}})],1),t._v(" "),a("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){t.saveSettings()}}},[t._v("\n                Save\n            ")])],1),t._v(" "),a("md-list-item",[a("md-input-container",[a("label",{attrs:{for:"locale"}},[t._v(t._s(t.$t("settings.locale")))]),t._v(" "),a("md-select",{attrs:{name:"locale",id:"locale"},on:{change:t.handleChange},model:{value:t.locale,callback:function(e){t.locale=e},expression:"locale"}},[a("md-option",{attrs:{value:"ru"}},[t._v("Русский")]),t._v(" "),a("md-option",{attrs:{value:"en"}},[t._v("English")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},186:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"hidden"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.habitId,expression:"habitId"}],attrs:{type:"hidden"},domProps:{value:t.habitId},on:{input:function(e){e.target.composing||(t.habitId=e.target.value)}}}),t._v(" "),a("md-list",{staticClass:"md-double-line"},[a("md-list-item",[a("span",{staticClass:"md-subheading"},[t._v(t._s(t.showHabitName(t.habitId)))])]),t._v(" "),a("md-list-item",[a("md-input-container",[a("md-icon",[t._v("event")]),t._v(" "),a("label",[t._v("Date")]),t._v(" "),a("md-input",{attrs:{type:"date"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),t._v(" "),a("md-list-item",[a("md-input-container",[a("md-icon",[t._v("star")]),t._v(" "),a("label",[t._v("Rating")]),t._v(" "),a("md-input",{attrs:{type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)],1),t._v(" "),a("md-list-item",[a("md-button",{staticClass:"md-raised md-primary",on:{click:t.update}},[t._v(t._s(t.$t("actions.save")))]),t._v(" "),a("md-button",{staticClass:"md-raised md-accent",on:{click:t.remove}},[t._v(t._s(t.$t("actions.remove")))])],1)],1)],1)},staticRenderFns:[]}},187:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.habitId,expression:"habitId"}],attrs:{type:"hidden"},domProps:{value:t.habitId},on:{input:function(e){e.target.composing||(t.habitId=e.target.value)}}}),t._v(" "),a("md-list",{staticClass:"md-double-line"},[a("md-list-item",[a("span",{staticClass:"md-subheading"},[t._v(t._s(t.showHabitName(t.habitId)))])]),t._v(" "),a("md-list-item",[a("md-input-container",[a("md-icon",[t._v("event")]),t._v(" "),a("label",[t._v(t._s(t.$t("titles.date")))]),t._v(" "),a("md-input",{attrs:{type:"date"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),t._v(" "),a("md-list-item",[a("md-input-container",[a("md-icon",[t._v("star")]),t._v(" "),a("label",[t._v(t._s(t.$t("titles.rating")))]),t._v(" "),a("md-input",{attrs:{type:"number"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)],1),t._v(" "),a("md-list-item",{staticClass:"center"},[a("md-button",{staticClass:"md-raised md-primary",on:{click:t.update}},[t._v(t._s(t.$t("actions.save")))])],1)],1)],1)},staticRenderFns:[]}},188:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[t.filtered.length?t._e():a("div",{staticClass:"no-data-screen"},[a("div",[a("md-icon",{staticClass:"md-size-4x"},[t._v("update")])],1),t._v(" "),a("div",[t._v(t._s(t.$t("text.nolog")))])]),t._v(" "),t.filtered.length?a("md-list",t._l(t.filtered,function(e,i){return a("md-list-item",{key:i},[a("md-avatar",[a("div",{staticClass:"log-item",on:{click:function(a){t.editHabitIncrement(e.id)}}},[t._v(t._s(e.amount))])]),t._v(" "),a("div",{staticClass:"md-list-text-container"},[a("span",[t._v(t._s(t.getHabitName(e.habitId)))]),t._v(" "),a("p",[t._v(t._s(t.formatDate(e.date)))])])],1)})):t._e(),t._v(" "),t._e()],1)},staticRenderFns:[]}},189:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page colored"},[Object.keys(t.$store.state.habits).length?t._e():a("div",{staticClass:"no-data-screen"},[a("div",{on:{click:t.newHabit}},[a("md-icon",{staticClass:"md-size-4x"},[t._v("add_circle_outline")])],1),t._v(" "),a("div",[t._v(t._s(t.$t("text.nohabits")))])]),t._v(" "),t._l(t.$store.state.habits,function(e){return t.$store.state.habits?a("md-card",{key:e.id},[a("md-card-header",[a("div",{staticClass:"md-title",on:{click:function(a){t.getHabitLog(e.id)}}},[t._v("\n          "+t._s(e.name)+"\n      ")]),t._v(" "),a("div",{staticClass:"md-subhead"},[t._v("\n          "+t._s(t.countHabit(e.id))+" ("+t._s(t.countPercent(t.countHabit(e.id),e.goal))+"%) \n              "),a("a",{on:{click:function(a){t.editHabit(e.id)}}},[a("md-icon",{staticClass:"md-primary"},[t._v("create")])],1)])]),t._v(" "),a("md-card-actions",[a("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(a){t.habitIncrement(e.id)}}},[a("md-icon",[t._v("note_add")])],1)],1),t._v(" "),a("md-progress",{attrs:{"md-progress":t.countPercent(t.countHabit(e.id),e.goal)}})],1):t._e()}),t._v(" "),t._e()],2)},staticRenderFns:[]}},78:function(t,e,a){"use strict";e.a={en:{titles:{main:"Habits",menu:"Menu","habit-add":"New Habit",settings:"Settings","habit-increment":"Add habit score","increment-edit":"Edit score","habit-log":"Habit Log",name:"Name",date:"Date",rating:"Rating",goal:"Goal",nodata:"no data",defaultHabit:["Plank","Swimming","Quit smoking","Morning runs","Drink liter of water per day"]},actions:{save:"Save",cancel:"Cancel",remove:"Remove",addHabit:"Habit"},log:{habit:"Habit",date:"Date",score:"Score"},settings:{locale:"Locale"},text:{nolog:"Add rating to a habit and it'll appear right here.",nohabits:"Add new habit and it'll appear here."}},ru:{titles:{main:"Привычки",menu:"Меню","habit-add":"Новая привычка",settings:"Настройки","habit-increment":"Добавить оценку","increment-edit":"Редактировать оценку","habit-log":"Журнал привычек",name:"Название",date:"Дата",rating:"Оценка",goal:"Цель",nodata:"нет данных",defaultHabit:["Планка","Плавание","Бросить курить","Бег по утрам","Пить литр воды в день"]},actions:{save:"Сохранить",cancel:"Отмена",remove:"Удалить",addHabit:"Привычка"},log:{habit:"Привычка",date:"Дата",score:"Счет"},settings:{locale:"Язык"},text:{nolog:"Добавьте оценку к привычке и она появится здесь",nohabits:"Добавьте новую привычку и она появится здесь"}}}},79:function(t,e,a){"use strict";var i=a(42),n=a.n(i),s=a(93),o=a.n(s),r=a(20),c=a(30),d=a(84),l=a(17),u=a.n(l),m=a(132),v=(a.n(m),a(133));a.n(v);r.default.use(c.a);var p=function(){return parseInt(1e10*Math.random())},h={authDomain:"habitology-ffa70.firebaseapp.com",databaseURL:"https://habitology-ffa70.firebaseio.com",projectId:"habitology-ffa70",storageBucket:"habitology-ffa70.appspot.com",messagingSenderId:"127457719546"},f={habits:{},log:[],user:{},locale:"ru",apiKey:""},b={incrementLog:function(t,e){t.log=t.log.concat(e)},updateHabit:function(t,e){t.habits||(t.habits={}),t.habits[e.id]=e},removeHabit:function(t,e){var a=o()(t.habits).reduce(function(a,i){var n=t.habits[i];return n.id===parseInt(e)?a:(a[n.id]=n,a)},{});t.log=t.log.filter(function(t){return t.habitId!==e}),t.habits=a},updateLogItem:function(t,e){t.log=t.log.map(function(t){return t.id===e.id?e:t})},removeLogItem:function(t,e){t.log=t.log.filter(function(t){return t.id!==e})},restoreState:function(t,e){t.habits=e.habits,t.log=e.log,t.user=e.user,t.locale=e.locale,t.apiKey=e.apiKey,h.apiKey=e.apiKey,u.a.initializeApp(h),window.firebase=u.a,setTimeout(function(){window.i18n.locale=e.locale||"ru"},200)},localeSet:function(t,e){t.locale=e,window.i18n.locale=e},getUser:function(t,e){t.user={email:e.email}},setUser:function(t,e){t.user=e},saveSettings:function(t,e){t.apiKey=e.apiKey}},_={incrementLog:function(t,e){var a=t.commit;t.state;a("incrementLog",n()({id:p()},e))},updateHabit:function(t,e){var a=t.commit;t.state;a("updateHabit",n()({id:p()},e))},removeHabit:function(t,e){var a=t.commit;t.state;a("removeHabit",e)},updateLogItem:function(t,e){(0,t.commit)("updateLogItem",e)},removeLogItem:function(t,e){(0,t.commit)("removeLogItem",e)},localeSet:function(t,e){(0,t.commit)("localeSet",e)},getUser:function(t,e){var a=t.commit;console.log(a,e)},logOut:function(t){(0,t.commit)("setUser",{})},logIn:function(t,e){(0,t.commit)("getUser",e)},saveSettings:function(t,e){(0,t.commit)("saveSettings",e)}},g=new c.a.Store({state:f,actions:_,mutations:b,plugins:[d.a]});e.a=g},8:function(t,e,a){"use strict";var i=a(20),n=a(190),s=a(181),o=a.n(s),r=a(178),c=a.n(r),d=a(179),l=a.n(d),u=a(177),m=a.n(u),v=a(182),p=a.n(v),h=a(180),f=a.n(h);i.default.use(n.a),e.a=new n.a({routes:[{path:"/",name:"main",component:o.a},{path:"/habit-increment/:habitId",name:"habit-increment",component:c.a},{path:"/habit-log",name:"habit-log",component:l.a},{path:"/habit-add",name:"habit-add",component:m.a},{path:"/settings",name:"settings",component:p.a},{path:"/increment-edit",name:"increment-edit",component:f.a}]})},81:function(t,e,a){function i(t){a(122)}var n=a(12)(a(85),a(183),i,null,null);t.exports=n.exports},83:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(20),n=a(80),s=a(30),o=a(82),r=a.n(o),c=a(81),d=a.n(c),l=a(8),u=a(79),m=a(78);i.default.use(s.a),i.default.use(r.a),i.default.use(n.a);var v=new n.a({locale:"ru",messages:m.a});window.i18n=v,i.default.config.productionTip=!1,new i.default({el:"#app",router:l.a,store:u.a,i18n:v,template:"<App/>",components:{App:d.a}})},84:function(t,e,a){"use strict";var i=a(92),n=a.n(i),s=function(t){var e=JSON.parse(localStorage.getItem("habitologyState")||'{"habits":{}, "log": [], "user": {}, "apiKey": ""}');e&&t.commit("restoreState",e),t.subscribe(function(){localStorage.setItem("habitologyState",n()(t.state,null,4))})};e.a=s},85:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(8);e.default={name:"app",methods:{gotoMain:function(t){this.$refs.leftSidenav.close(),i.a.push({name:t})},toggleLeftSidenav:function(){this.$refs.leftSidenav.toggle()},newHabit:function(){i.a.push({name:"habit-add"})},goBack:function(){i.a.back()}}}},86:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(8);e.default={name:"habit-add",data:function(){var t=this.$t("titles.defaultHabit").length-1,e=Math.floor(Math.random()*(t-0+1)+0);return console.log(e),{name:this.$t("titles.defaultHabit["+e+"]"),goal:1e3,id:null}},mounted:function(){if(this.$route.query.habitId){var t=this.$store.state.habits[this.$route.query.habitId];t&&(this.$set(this,"goal",t.goal),this.$set(this,"id",t.id),this.$set(this,"name",t.name))}},methods:{cancel:function(){i.a.push({name:"main"})},update:function(){var t={goal:this.goal,name:this.name};this.id&&(t.id=this.id),this.$store.dispatch("updateHabit",t),i.a.push({name:"main"})},remove:function(){this.$store.dispatch("removeHabit",this.id),i.a.push({name:"main"})}}}},87:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(42),n=a.n(i),s=a(8),o=a(30),r=a(34),c=a.n(r),d=a.i(o.b)(["incrementLog"]);e.default={name:"habitIncrement",data:function(){return{date:c.a.format(new Date,"YYYY-MM-DD"),amount:null,habitId:this.$route.params.habitId}},methods:n()(d,{update:function(){var t={date:new Date(this.date),amount:parseInt(this.amount||0),habitId:parseInt(this.habitId)};this.incrementLog(t),window.navigator&&window.navigator.vibrate(100,50),s.a.push({name:"main"})},formatDate:function(t){return c.a.format(t,"DD.MM.YY")},cancel:function(){s.a.push({name:"main"})},showHabitName:function(t){return this.$store.state.habits[t].name}})}},88:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(34),n=a.n(i),s=a(8);e.default={name:"habit-log",data:function(){return{}},computed:{filtered:function(){var t=this.$route.query.habitId;return void 0===t||null===t?this.$store.state.log:(t=parseInt(t),this.$store.state.log.filter(function(e){var a=e.habitId;return t===a}))}},methods:{formatDate:function(t){return n.a.format(new Date(t),"DD.MM.YY")},getHabitName:function(t){var e=this.$store.state.habits[t];return e?e.name:""},editHabitIncrement:function(t){s.a.push({name:"increment-edit",query:{logId:t}})}}}},89:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(8),n=a(34),s=a.n(n);e.default={name:"increment-edit",data:function(){return{amount:0,date:100,habitId:null,id:null}},mounted:function(){var t=this,e=this.$store.state.log.find(function(e){return e.id===parseInt(t.$route.query.logId)});e&&(this.$set(this,"amount",e.amount),this.$set(this,"id",e.id),this.$set(this,"date",s.a.format(new Date(e.date),"YYYY-MM-DD")),this.$set(this,"habitId",e.habitId))},methods:{cancel:function(){i.a.back()},update:function(){var t={amount:this.amount,id:this.id,date:this.date,habitId:this.habitId};this.$store.dispatch("updateLogItem",t),i.a.back()},remove:function(){this.$store.dispatch("removeLogItem",this.id),i.a.back()},showHabitName:function(t){return t?this.$store.state.habits[t].name:"-"}}}},90:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(8);e.default={name:"main",data:function(){return{}},methods:{newHabit:function(){i.a.push({name:"habit-add"})},countHabit:function(t){return this.$store.state.log.reduce(function(e,a){return a.habitId===t?e+a.amount:e},0)},countPercent:function(t,e){return Math.ceil(100*t/e)},habitIncrement:function(t){i.a.push({name:"habit-increment",params:{habitId:t}})},editHabit:function(t){i.a.push({name:"habit-add",query:{habitId:t}})},getHabitLog:function(t){i.a.push({name:"habit-log",query:{habitId:t}})}}}},91:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"settings",data:function(){return{locale:this.$store.state.locale,apiKey:this.$store.state.apiKey,email:null,password:null}},mounted:function(){console.log(this.$store.state.user)},methods:{signIn:function(){var t=this;window.firebase.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){t.$store.dispatch("logIn",e)}).catch(function(t){console.log(t,t.message)})},logOut:function(){var t=this;window.firebase.auth().signOut().then(function(){t.$store.dispatch("logOut")})},signUp:function(){window.firebase.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(t){console.log("signUp",t)}).catch(function(t){console.log(t,t.message)})},handleChange:function(){this.$store.dispatch("localeSet",this.locale)},saveSettings:function(){this.$store.dispatch("saveSettings",{apiKey:this.apiKey}),setTimeout(function(){window.location.reload()},1e3)}}}}},[83]);
//# sourceMappingURL=app.faca2a1c7a880c662ce8.js.map